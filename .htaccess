# Shibboleth: Require PennKey login for this directory
AuthType shibboleth
ShibRequestSetting requireSession 1
Require shib-session

<Files "serviceValidate.php">
  ShibRequestSetting requireSession 0
  Require all granted
</Files>
<Files "validate.php">
  ShibRequestSetting requireSession 0
  Require all granted
</Files>
<Files "p3_serviceValidate.php">
  ShibRequestSetting requireSession 0
  Require all granted
</Files>

# Hardening / hygiene
Options -Indexes

# If RewriteEngine is allowed, you can uncomment the section below
# to enable CAS-style endpoint URLs like /cas/login â†’ index.php/login

# <IfModule mod_rewrite.c>
# RewriteEngine On
# RewriteBase /~lumbroso/cgi-bin/cas/
#
# # Allow direct CAS endpoints (only works if index.php is present)
# RewriteRule ^login$          index.php/login [L]
# RewriteRule ^validate$       index.php/validate [L]
# RewriteRule ^serviceValidate$ index.php/serviceValidate [L]
# #
# # --- Optional friendly URLs (uncomment to enable) ---
# RewriteEngine On
# RewriteRule ^login$            login.php            [L]
# RewriteRule ^validate$         validate.php         [L]  # CAS 1.0
# RewriteRule ^serviceValidate$  serviceValidate.php  [L]  # CAS 2.0
# </IfModule>